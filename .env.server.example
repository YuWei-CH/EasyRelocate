# EasyRelocate â€” server (Option B: self-hosted backend + Postgres + Caddy)
#
# Copy to `.env.server` on your server and fill in values:
#   cp .env.server.example .env.server
#
# Then deploy:
#   docker compose -f docker-compose.server.yml --env-file .env.server up -d --build
#
# Never commit `.env.server` (it contains secrets).

###############################################################################
# Postgres (Docker)
###############################################################################
POSTGRES_DB="easyrelocate"
POSTGRES_USER="easyrelocate"
POSTGRES_PASSWORD="CHANGE_ME_STRONG_PASSWORD"

# Backend uses this DSN to connect to the Postgres container.
DATABASE_URL="postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}"

###############################################################################
# Backend (FastAPI)
###############################################################################
# CORS allowlist for your Vercel app and/or custom frontend domain.
# Example:
# CORS_ALLOW_ORIGINS="https://easyrelocate.vercel.app,https://easyrelocate.net"
CORS_ALLOW_ORIGINS="https://YOUR_VERCEL_APP_DOMAIN"

# Enable self-serve tokens (onboarding token issuance)
ENABLE_PUBLIC_WORKSPACE_ISSUE="1"
PUBLIC_WORKSPACE_TTL_DAYS="30"

# Optional: Google Maps server-side geocoding
# GOOGLE_MAPS_API_KEY="YOUR_SERVER_KEY"
# GEOCODING_PROVIDER="google"
# ENABLE_GEOCODING="1"

# Optional: OpenRouter LLM extraction for selected posts
# OPENROUTER_API_KEY="YOUR_OPENROUTER_KEY"
# OPENROUTER_MODEL="z-ai/glm-4.5-air:free"

